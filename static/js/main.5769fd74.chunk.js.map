{"version":3,"sources":["Components/Timer/Timer.js","Components/App.js","index.js","Components/Timer/Timer.module.css"],"names":["Timer","useState","sec","setSec","status","setStatus","useEffect","timer","Subject","interval","pipe","takeUntil","subscribe","value","next","complete","timeout","wasClicked","className","s","container","clockface","Date","toISOString","slice","buttons","btn","onClick","clearTimeout","setTimeout","App","ReactDOM","render","document","getElementById","module","exports"],"mappings":"oOAMe,SAASA,IACtB,MAAsBC,mBAAS,GAA/B,mBAAOC,EAAP,KAAYC,EAAZ,KACA,EAA4BF,mBAAS,QAArC,mBAAOG,EAAP,KAAeC,EAAf,KAEAC,qBAAU,WACR,IAAMC,EAAQ,IAAIC,IAQlB,OAPAC,YAAS,KACNC,KAAKC,YAAUJ,IACfK,WAAU,WACM,QAAXR,GACFD,GAAO,SAAAU,GAAK,OAAIA,EAAQ,UAGvB,WACLN,EAAMO,OACNP,EAAMQ,cAEP,CAACX,IAEJ,IAcIY,EADAC,GAAa,EAiBjB,OACE,sBAAKC,UAAWC,IAAEC,UAAlB,UACE,mBAAGF,UAAWC,IAAEE,UAAhB,SAA4B,IAAIC,KAAKpB,GAAKqB,cAAcC,MAAM,GAAI,MAClE,sBAAKN,UAAWC,IAAEM,QAAlB,UACc,QAAXrB,GACC,wBAAQc,UAAWC,IAAEO,IAAKC,QAnCpB,WACZtB,EAAU,QAkCJ,mBAIU,QAAXD,GACC,wBAAQc,UAAWC,IAAEO,IAAKC,QApCrB,WACXtB,EAAU,QACVF,EAAO,IAkCD,kBAIF,wBAAQe,UAAWC,IAAEO,IAAKC,QAnClB,WACZxB,EAAO,IAkCH,mBAGA,wBAAQe,UAAWC,IAAEO,IAAKC,QA/BnB,WACX,GAAIV,EAIF,OAHAA,GAAa,EACbW,aAAaZ,QACbX,EAAU,QAIZY,GAAa,EACbD,EAAUa,YAAW,WACnBZ,GAAa,IACZ,MAoBC,wBCtER,IAIea,EAJH,WACV,OAAO,cAAC9B,EAAD,K,MCGT+B,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,U,kBCLjDC,EAAOC,QAAU,CAAC,UAAY,yBAAyB,UAAY,yBAAyB,QAAU,uBAAuB,IAAM,sB","file":"static/js/main.5769fd74.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { interval, Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport s from './Timer.module.css';\r\n\r\nexport default function Timer() {\r\n  const [sec, setSec] = useState(0);\r\n  const [status, setStatus] = useState('stop');\r\n\r\n  useEffect(() => {\r\n    const timer = new Subject();\r\n    interval(1000)\r\n      .pipe(takeUntil(timer))\r\n      .subscribe(() => {\r\n        if (status === 'run') {\r\n          setSec(value => value + 1000);\r\n        }\r\n      });\r\n    return () => {\r\n      timer.next();\r\n      timer.complete();\r\n    };\r\n  }, [status]);\r\n\r\n  const start = () => {\r\n    setStatus('run');\r\n  };\r\n\r\n  const stop = () => {\r\n    setStatus('stop');\r\n    setSec(0);\r\n  };\r\n\r\n  const reset = () => {\r\n    setSec(0);\r\n  };\r\n\r\n  let wasClicked = false;\r\n  let timeout;\r\n\r\n  const wait = () => {\r\n    if (wasClicked) {\r\n      wasClicked = false;\r\n      clearTimeout(timeout);\r\n      setStatus('wait');\r\n      return;\r\n    }\r\n\r\n    wasClicked = true;\r\n    timeout = setTimeout(() => {\r\n      wasClicked = false;\r\n    }, 300);\r\n  };\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <p className={s.clockface}>{new Date(sec).toISOString().slice(11, 19)}</p>\r\n      <div className={s.buttons}>\r\n        {status !== 'run' && (\r\n          <button className={s.btn} onClick={start}>\r\n            start\r\n          </button>\r\n        )}\r\n        {status === 'run' && (\r\n          <button className={s.btn} onClick={stop}>\r\n            stop\r\n          </button>\r\n        )}\r\n        <button className={s.btn} onClick={reset}>\r\n          reset\r\n        </button>\r\n        <button className={s.btn} onClick={wait}>\r\n          wait\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import Timer from './Timer/Timer';\r\n\r\nconst App = () => {\r\n  return <Timer />;\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\n\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Timer_container__X6m9K\",\"clockface\":\"Timer_clockface__3IYY0\",\"buttons\":\"Timer_buttons__19Mkw\",\"btn\":\"Timer_btn__147tn\"};"],"sourceRoot":""}